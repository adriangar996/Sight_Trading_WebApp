{% load static %}
<!DOCTYPE html>
<html  >
<head>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="{% static 'assets/images/sight-logo-oficial-263x281.png' %}" type="image/x-icon">
  <meta name="description" content="Portfolio page for SIGHT: AI Stock Market Analysis and Prediction Web Application. Keep track of stocks you own.">
  
  
  <title>Porfolio</title>
  <link rel="stylesheet" href="{% static 'assets/Material-Design-Icons/css/material.css' %}">
  <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap-grid.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap-reboot.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/web/assets/gdpr-plugin/gdpr-styles.css' %}">
  <link rel="stylesheet" href="{% static 'assets/animatecss/animate.css' %}">
  <link rel="stylesheet" href="{% static 'assets/dropdown/css/style.css' %}">
  <link rel="stylesheet" href="{% static 'assets/socicon/css/styles.css' %}">
  <link rel="stylesheet" href="{% static 'assets/theme/css/style.css' %}">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="{% static 'assets/mobirise/css/mbr-additional.css' %}"><link rel="stylesheet" href="{% static 'assets/mobirise/css/mbr-additional.css' %}" type="text/css">
  
  
  <script src="https://cdn.jsdelivr.net/npm/luxon@1.26.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.1/dist/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.0.0"></script>
  <script src="{% static 'assets/chartjs-chart-financial.js' %}"></script>
  

</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu2 cid-sMlXCje7Dw" once="menu" id="menu2-4a">
    
    <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
        <div class="container-fluid">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="../landing">
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="" style="height: 4.7rem;" loading="lazy" class="lazyload" data-src="{% static 'assets/images/sight-logo-oficial-263x281.png' %}">
                    </a>
                </span>
                
            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true"><li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="../landing#testimonials3-4h" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false"><span class="mdi-action-dashboard mbr-iconfont mbr-iconfont-btn"></span>Dashboard</a><div class="dropdown-menu" aria-labelledby="dropdown-undefined"><a class="text-black text-primary dropdown-item show display-4" href="../dashboardindex" aria-expanded="false"><span class="mdi-editor-insert-chart mbr-iconfont mbr-iconfont-btn"></span>Index</a><a class="text-black text-primary dropdown-item show display-4" href="../portfolio"><span class="mdi-action-trending-up mbr-iconfont mbr-iconfont-btn"></span>Portfolio</a><a class="text-black text-primary dropdown-item show display-4" href="../watchlist"><span class="mdi-action-search mbr-iconfont mbr-iconfont-btn"></span>Watch-List</a></div></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="../notifications"><span class="mdi-social-notifications-on mbr-iconfont mbr-iconfont-btn"></span>Notifications</a></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="../account"><span class="mdi-action-account-circle mbr-iconfont mbr-iconfont-btn"></span>Account</a></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="../settings"><span class="mdi-action-settings mbr-iconfont mbr-iconfont-btn"></span>Settings</a></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="../help"><span class="mdi-action-help mbr-iconfont mbr-iconfont-btn"></span>Help</a></li></ul>
                
                <div class="navbar-buttons mbr-section-btn"><a class="btn btn-black display-4" href="../logout">Log Out</a></div>
                
            </div>
        </div>
    </nav>
</section>

<div id="custom-html-4u"><!-- Type valid HTML here -->

    <section>
    <div class="container-fluid">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
                      <li class="breadcrumb-item active" aria-current="page">Portfolio</li>
                    </ol>
                  </nav>
                
                  <h1>Portfolio</h1>
                  <div class="row">
                    <div class="col-12 col-md-7 col-xg-3 mb-4 mb-lg-0">
                        <div class="card">
                            <h5 class="card-header text-center">{{choice1}} Chart</h5>
                            <div class="card-body">
                            {% for value in chart_values1 %}
                                <h5 class="card-title">{{value.name}}</h5>
                            {% endfor %}
                            {% for value in chart_values1 %}
                                <h5 class="card-title">Price: ${{value.price}}</h5>
                            {% endfor %}
                                <p class="card-text">Today's Date: {{today_date}}</p>
                            {% for value in chart_values1 %}
                              {% if value.change > 0 %}
                                <p class="card-text text-success">Change Percent: {{value.change}}%</p>
                              {% else %}
                                <p class="card-text text-danger">Change Percent: {{value.change}}%</p>
                              {% endif %}
                            {% endfor %}
                            </div>
                            <div> {{ candlestick1 | safe }} </div>
                        </div>
                        <div class="row">
                          <div class="col-auto">
                          <form method="POST">
                          {% csrf_token %}
                            <select name="stock_selected1" id="stock_selected1" class="form-select" aria-label="Select Chart">
                            <option class="align-middle" selected="">Select Stock Symbol</option>
                                {% for stock in stock_list %}
                                    <option value={{stock.symbol}}>{{stock.symbol}}</option>
                                {% endfor %}
                            </select></div>
                        </div>
                        <button type="submit" class="btn btn-info">Load To Chart</button>
                          </form>
                    </div>
                        
                    <div class="col-12 col-md-5 mb-4 mb-lg-0 col-xg-3">
                        <div class="card">
                            <h5 class="card-header text-center">{{choice1}} Predictions</h5>
                            <div class="card-body">
                            <div class="table-responsive-xl">
                            <table class="table table-striped table-hover">
                              <thead>
                                <tr>
                                  <th scope="col">Interval</th>
                                  <th scope="col">Price</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <th scope="row">1 Day Prediction</th>
                                  <td class="align-middle">$</td>
                                </tr>
                                <tr>
                                  <th scope="row">5 Day Prediction</th>
                                  <td class="align-middle">$</td>
                                </tr>
                                <tr>
                                  <th scope="row">14 Day Prediction</th>
                                  <td class="align-middle">$</td>
                                </tr>
                                <tr>
                                  <th scope="row">30 Day Prediction</th>
                                  <td class="align-middle">$</td>
                                </tr>
                                <tr>
                                  <th scope="row">90 Day Prediction</th>
                                  <td class="align-middle">$</td>
                                </tr>
                              </tbody>
                            </table>
                            </div>
                            </div>
                            <!--<div class="card-body">
                            {% for value in chart_values2 %}
                                <h5 class="card-title">{{value.name}}</h5>
                            {% endfor %}
                            {% for value in chart_values2 %}
                                <h5 class="card-title">Price: ${{value.price}}</h5>
                            {% endfor %}
                                <p class="card-text">Today's Date: {{today_date}}</p>
                            {% for value in chart_values2 %}
                              {% if value.change > 0 %}
                                <p class="card-text text-success">Change Percent: {{value.change}}%</p>
                              {% else %}
                                <p class="card-text text-danger">Change Percent: {{value.change}}%</p>
                              {% endif %}
                            {% endfor %}
                            </div>
                            <div> {{ candlestick2 | safe }} </div>
                        </div>
                        <div class="row">
                          <div class="col-auto">
                          <form method="POST">
                          {% csrf_token %}
                            <select name="stock_selected2" id="stock_selected2" class="form-select" aria-label="Select Chart">
                            <option class="align-middle" selected="">Select Stock Symbol</option>
                            {% for stock in stock_list %}
                                <option value={{stock.symbol}}>{{stock.symbol}}</option>
                            {% endfor %}
                                </select></div>
                            </div>
                                <button type="submit" class="btn btn-info">Load To Chart</button>
                            </form>-->
                            <!-- TradingView Widget BEGIN -->
                            <div class="tradingview-widget-container">
                              <div class="tradingview-widget-container__widget"></div>
                              <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/symbols/NASDAQ-AAPL/history-timeline/" rel="noopener" target="_blank"><span class="blue-text">{{choice1}}</span></a> News</div>
                              <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js" async>
                              {
                              "feedMode": "symbol",
                              "symbol": "'{{choice1}}'",
                              "colorTheme": "light",
                              "isTransparent": true,
                              "displayMode": "regular",
                              "height": 550,
                              "locale": "en"
                            }
                              </script>
                            </div>
                            <!-- TradingView Widget END -->
                    </div>
                    
                  </div>
                  </div>

                  <div class="row">
                        <div class="card">
                            <h5 class="card-header text-center">Owned Stocks</h5>
                            <div class="card-body">
                                <div>
                                <!--<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for Stocks in Portfolio..">-->
                                <button class="btn btn-info" href="#" data-toggle="modal" data-bs-toggle="modal" data-target="#mbr-popup-59" data-bs-target="#mbr-popup-59">
    +Add Stock
  </button>
  </div>
                                <div class="table-responsive-xl">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                          <tr>
                                            <th scope="col">Delete</th>
                                            <th scope="col">Stock</th>
                                            <th scope="col">Quantity Owned</th>
                                            <th scope="col">Buying Price</th>
                                            <th scope="col">Current Price</th>
                                            <th scope="col">Gain/Loss</th>
                                            <th scope="col">Signal</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          {% for stock in stock_list %}
                                          <tr>
                                            <td data-title="remove" role="button" scope="row" class="align-middle ">
                                                <form method="POST" class="form-horizontal">
                                                    {% csrf_token %}
                                                    <div class="block" class="form-group">
                                                    <input type="hidden" name ="stock_symbol" value="{{ stock.symbol }}"/>
                                                    <input name="remove_stock" class="btn btn-danger" type="submit" value="x">
                                                    </div>
                                                </form>
                                            </td>
                                            <th scope="row" class="align-middle">{{stock.symbol}} ({{stock.name}})</th>
                                            <td class="align-middle">{{stock.shares_owned}}</td>
                                            <td class="align-middle">${{stock.buying_price}}</td>  
                                            <td class="align-middle">${{ stock.price }}</td>
                                            {% if stock.gain_loss > 0 %}
                                                <td class="align-middle text-success">+{{stock.gain_loss}}</td>
                                            {% else %}
                                                <td class="align-middle text-danger">{{stock.gain_loss}}</td>
                                            {% endif %}
                                            <td class="align-middle text-info">Hold</td>

                                          </tr>
                                          {% endfor %}
                                            
                                        </tbody>
                                      </table>
                                </div>
                            </div>
                        </div>
        </div>
    </section></div>

    <div class="modal mbr-popup cid-sYt0EplUzS fade" tabindex="-1" role="dialog" data-overlay-color="#000000" data-overlay-opacity="0.4" id="mbr-popup-59" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="container position-static margin-center-pos">
                    <div class="modal-header">
                        <h5 class="modal-title mbr-fonts-style display-5">Add Stock to Portfolio</h5>
                        <button type="button" class="close d-flex" data-dismiss="modal" data-bs-dismiss="modal" aria-label="Close">
                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="currentColor">
                                <path d="M13.4 12l10.3 10.3-1.4 1.4L12 13.4 1.7 23.7.3 22.3 10.6 12 .3 1.7 1.7.3 12 10.6 22.3.3l1.4 1.4L13.4 12z">
                                </path>
                            </svg>
                        </button>
                    </div>

                    <div class="modal-body">
                        

                        <div>
                            
                            

                            <div class="form-wrapper" data-form-type="formoid">
<!--Formbuilder Form-->
<form role="form" method="POST" action="../portfolio/">
{% csrf_token %}
<div class="dragArea row">
<div class="col-lg-12 col-md-12 col-sm-12 form-group" data-for="add_stock">
<label for="Ticker-mbr-popup-59" class="form-control-label mbr-fonts-style display-7">Ticker</label>
<input type="text" name="add_stock" placeholder="Enter the stock's ticker symbol" required="required" class="form-control display-7" value="{{add_stock}}" id="add_stock">
</div>
<div class="col-lg-12 col-md-12 col-sm-12 form-group" data-for="buying_price">
<label for="Buying_Price-mbr-popup-59" class="form-control-label mbr-fonts-style display-7">Buying Price</label>
<input type="text" name="buying_price" placeholder="Enter stock's buying price" required="required" class="form-control display-7" value="{{ buying_price }}" id="buying_price">
</div>
<div data-for="stocks_bought" class="col-lg-12 col-md-12 col-sm-12 form-group">
<label for="owned-mbr-popup-59" class="form-control-label mbr-fonts-style display-7">Quantity Owned</label>
<input type="text" name="stocks_bought" placeholder="Enter the quantity of shares owned" class="form-control display-7" required="required" value="{{ stocks_bought }}" id="stocks_bought">
</div>
<div class="col input-group-btn">
<button type="submit" class="w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 w-100 btn btn-primary display-4">Add Stock to Portfolio</button>
</div>
{% if error_message %}
    <span class="down">{{ error_message }}{{ stock_exists_message }}</span>
{% endif %}
{% if add_success_message %}
    <span class="up">{{ add_success_message }}</span>
{% endif %}
</div>
<span class="gdpr-block">

</span></form><!--Formbuilder Form-->
</div>
                        </div>
                    </div>

                    
                </div>
            </div>
        </div>
    </div>
<section data-bs-version="5.1" class="footer3 cid-sLQfizb6u6 mbr-reveal" once="footers" id="footer3-2v">

    

    

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="row row-links">
                <ul class="foot-menu">
                    
                    
                    
                    
                    
                    <li class="foot-menu-item mbr-fonts-style display-7">
                        <a class="text-primary" href="../landing#testimonials3-4h">About us</a>
                    </li><li class="foot-menu-item mbr-fonts-style display-7"><a href="../landing#contacts3-4i" class="text-primary">Contact Us</a></li><li class="foot-menu-item mbr-fonts-style display-7"><a href="../help" class="text-primary">Help</a></li></ul>
            </div>
            <div class="row social-row">
                <div class="social-list align-right pb-2">
                    
                    
                    
                    
                    
                    
                <div class="soc-item">
                        <a href="https://twitter.com/mobirise" target="_blank">
                            <span class="mbr-iconfont mbr-iconfont-social socicon-facebook socicon"></span>
                        </a>
                    </div><div class="soc-item">
                        <a href="https://twitter.com/mobirise" target="_blank">
                            <span class="mbr-iconfont mbr-iconfont-social socicon-instagram socicon"></span>
                        </a>
                    </div><div class="soc-item">
                        <a href="https://twitter.com/mobirise" target="_blank">
                            <span class="socicon-twitter socicon mbr-iconfont mbr-iconfont-social"></span>
                        </a>
                    </div></div>
            </div>
            <div class="row row-copirayt">
                <p class="mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7">
                    © Copyright 2021 SIGHTAPP. All Rights Reserved.
                </p>
            </div>
        </div>
    </div>
</section>


<script src="{% static 'assets/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/smoothscroll/smooth-scroll.js' %}"></script>
  <script src="{% static 'assets/ytplayer/index.js' %}"></script>
  <script src="{% static 'assets/dropdown/js/navbar-dropdown.js' %}"></script>
  <script src="{% static 'assets/theme/js/script.js' %}"></script>
  <script src="{% static 'assets/chart1.js' %}"></script>
  <script src="{% static 'assets/chart2.js' %}"></script>
  
  <input name="animation" type="hidden">
  <script>"use strict";if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"],iframe[loading="lazy"]').forEach(e=>{e.src=e.dataset.src,e.style.paddingTop=100*e.getAttribute("data-aspectratio")+"%",e.style.height=0,e.onload=function(){e.removeAttribute("style")}})}else{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js",document.body.appendChild(e)}</script>

  
</body>
</html>